"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = convert;

var _bluebird = require("bluebird");

var _bluebird2 = _interopRequireDefault(_bluebird);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Decorator for convert simple object method parameter into another class.
 * @method
 */
function convert(ConvertClass) {
  return function (target, key, descriptor) {

    descriptor.value.convertBefore = function (obj) {

      var instance = new ConvertClass();
      if (obj) {
        for (var prop in obj) {
          if (instance.hasOwnProperty(prop) && typeof instance[prop] != "function") {
            instance[prop] = obj[prop];
          }
        }
      }
      return instance;
    };
  };
};